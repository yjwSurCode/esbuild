var _=(i,t)=>()=>(t||(t={exports:{}},i(t.exports,t)),t.exports);var B=_((j,q)=>{(function(i,t){typeof j=="object"&&typeof q!="undefined"?t(j):typeof define=="function"&&define.amd?define(["exports"],t):(i=i||self,t(i.sourcemapCodec={}))})(j,function(i){"use strict";for(var t={},e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=0;r<e.length;r++)t[e.charCodeAt(r)]=r;function n(s){for(var a=[],f=[],c=[0,0,0,0,0],g=0,m=0,y=0,w=0;m<s.length;m++){var b=s.charCodeAt(m);if(b===44)o(f,c,g),g=0;else if(b===59)o(f,c,g),g=0,a.push(f),f=[],c[0]=0;else{var S=t[b];if(S===void 0)throw new Error("Invalid character ("+String.fromCharCode(b)+")");var E=S&32;if(S&=31,w+=S<<y,E)y+=5;else{var R=w&1;w>>>=1,R&&(w=w===0?-2147483648:-w),c[g]+=w,g++,w=y=0}}}return o(f,c,g),a.push(f),a}function o(s,a,f){f===4?s.push([a[0],a[1],a[2],a[3]]):f===5?s.push([a[0],a[1],a[2],a[3],a[4]]):f===1&&s.push([a[0]])}function u(s){for(var a=0,f=0,c=0,g=0,m="",y=0;y<s.length;y++){var w=s[y];if(y>0&&(m+=";"),w.length!==0){for(var b=0,S=[],E=0,R=w;E<R.length;E++){var v=R[E],O=h(v[0]-b);b=v[0],v.length>1&&(O+=h(v[1]-a)+h(v[2]-f)+h(v[3]-c),a=v[1],f=v[2],c=v[3]),v.length===5&&(O+=h(v[4]-g),g=v[4]),S.push(O)}m+=S.join(",")}}return m}function h(s){var a="";s=s<0?-s<<1|1:s<<1;do{var f=s&31;s>>>=5,s>0&&(f|=32),a+=e[f]}while(s>0);return a}i.decode=n,i.encode=u,Object.defineProperty(i,"__esModule",{value:!0})})});var $=_((Z,A)=>{"use strict";var D=B(),I=function i(t){this.bits=t instanceof i?t.bits.slice():[]};I.prototype.add=function(t){this.bits[t>>5]|=1<<(t&31)};I.prototype.has=function(t){return!!(this.bits[t>>5]&1<<(t&31))};var p=function(t,e,r){this.start=t,this.end=e,this.original=r,this.intro="",this.outro="",this.content=r,this.storeName=!1,this.edited=!1,Object.defineProperties(this,{previous:{writable:!0,value:null},next:{writable:!0,value:null}})};p.prototype.appendLeft=function(t){this.outro+=t};p.prototype.appendRight=function(t){this.intro=this.intro+t};p.prototype.clone=function(){var t=new p(this.start,this.end,this.original);return t.intro=this.intro,t.outro=this.outro,t.content=this.content,t.storeName=this.storeName,t.edited=this.edited,t};p.prototype.contains=function(t){return this.start<t&&t<this.end};p.prototype.eachNext=function(t){for(var e=this;e;)t(e),e=e.next};p.prototype.eachPrevious=function(t){for(var e=this;e;)t(e),e=e.previous};p.prototype.edit=function(t,e,r){return this.content=t,r||(this.intro="",this.outro=""),this.storeName=e,this.edited=!0,this};p.prototype.prependLeft=function(t){this.outro=t+this.outro};p.prototype.prependRight=function(t){this.intro=t+this.intro};p.prototype.split=function(t){var e=t-this.start,r=this.original.slice(0,e),n=this.original.slice(e);this.original=r;var o=new p(t,this.end,n);return o.outro=this.outro,this.outro="",this.end=t,this.edited?(o.edit("",!1),this.content=""):this.content=r,o.next=this.next,o.next&&(o.next.previous=o),o.previous=this,this.next=o,o};p.prototype.toString=function(){return this.intro+this.content+this.outro};p.prototype.trimEnd=function(t){if(this.outro=this.outro.replace(t,""),this.outro.length)return!0;var e=this.content.replace(t,"");if(e.length)return e!==this.content&&this.split(this.start+e.length).edit("",void 0,!0),!0;if(this.edit("",void 0,!0),this.intro=this.intro.replace(t,""),this.intro.length)return!0};p.prototype.trimStart=function(t){if(this.intro=this.intro.replace(t,""),this.intro.length)return!0;var e=this.content.replace(t,"");if(e.length)return e!==this.content&&(this.split(this.end-e.length),this.edit("",void 0,!0)),!0;if(this.edit("",void 0,!0),this.outro=this.outro.replace(t,""),this.outro.length)return!0};var N=function(){throw new Error("Unsupported environment: `window.btoa` or `Buffer` should be supported.")};typeof window!="undefined"&&typeof window.btoa=="function"?N=function(i){return window.btoa(unescape(encodeURIComponent(i)))}:typeof Buffer=="function"&&(N=function(i){return Buffer.from(i,"utf-8").toString("base64")});var x=function(t){this.version=3,this.file=t.file,this.sources=t.sources,this.sourcesContent=t.sourcesContent,this.names=t.names,this.mappings=D.encode(t.mappings)};x.prototype.toString=function(){return JSON.stringify(this)};x.prototype.toUrl=function(){return"data:application/json;charset=utf-8;base64,"+N(this.toString())};function T(i){var t=i.split(`
`),e=t.filter(function(o){return/^\t+/.test(o)}),r=t.filter(function(o){return/^ {2,}/.test(o)});if(e.length===0&&r.length===0)return null;if(e.length>=r.length)return"	";var n=r.reduce(function(o,u){var h=/^ +/.exec(u)[0].length;return Math.min(h,o)},Infinity);return new Array(n+1).join(" ")}function F(i,t){var e=i.split(/[/\\]/),r=t.split(/[/\\]/);for(e.pop();e[0]===r[0];)e.shift(),r.shift();if(e.length)for(var n=e.length;n--;)e[n]="..";return e.concat(r).join("/")}var z=Object.prototype.toString;function U(i){return z.call(i)==="[object Object]"}function M(i){for(var t=i.split(`
`),e=[],r=0,n=0;r<t.length;r++)e.push(n),n+=t[r].length+1;return function(u){for(var h=0,s=e.length;h<s;){var a=h+s>>1;u<e[a]?s=a:h=a+1}var f=h-1,c=u-e[f];return{line:f,column:c}}}var L=function(t){this.hires=t,this.generatedCodeLine=0,this.generatedCodeColumn=0,this.raw=[],this.rawSegments=this.raw[this.generatedCodeLine]=[],this.pending=null};L.prototype.addEdit=function(t,e,r,n){if(e.length){var o=[this.generatedCodeColumn,t,r.line,r.column];n>=0&&o.push(n),this.rawSegments.push(o)}else this.pending&&this.rawSegments.push(this.pending);this.advance(e),this.pending=null};L.prototype.addUneditedChunk=function(t,e,r,n,o){for(var u=e.start,h=!0;u<e.end;)(this.hires||h||o.has(u))&&this.rawSegments.push([this.generatedCodeColumn,t,n.line,n.column]),r[u]===`
`?(n.line+=1,n.column=0,this.generatedCodeLine+=1,this.raw[this.generatedCodeLine]=this.rawSegments=[],this.generatedCodeColumn=0,h=!0):(n.column+=1,this.generatedCodeColumn+=1,h=!1),u+=1;this.pending=null};L.prototype.advance=function(t){if(!!t){var e=t.split(`
`);if(e.length>1){for(var r=0;r<e.length-1;r++)this.generatedCodeLine++,this.raw[this.generatedCodeLine]=this.rawSegments=[];this.generatedCodeColumn=0}this.generatedCodeColumn+=e[e.length-1].length}};var k=`
`,C={insertLeft:!1,insertRight:!1,storeName:!1},l=function(t,e){e===void 0&&(e={});var r=new p(0,t.length,t);Object.defineProperties(this,{original:{writable:!0,value:t},outro:{writable:!0,value:""},intro:{writable:!0,value:""},firstChunk:{writable:!0,value:r},lastChunk:{writable:!0,value:r},lastSearchedChunk:{writable:!0,value:r},byStart:{writable:!0,value:{}},byEnd:{writable:!0,value:{}},filename:{writable:!0,value:e.filename},indentExclusionRanges:{writable:!0,value:e.indentExclusionRanges},sourcemapLocations:{writable:!0,value:new I},storedNames:{writable:!0,value:{}},indentStr:{writable:!0,value:T(t)}}),this.byStart[0]=r,this.byEnd[t.length]=r};l.prototype.addSourcemapLocation=function(t){this.sourcemapLocations.add(t)};l.prototype.append=function(t){if(typeof t!="string")throw new TypeError("outro content must be a string");return this.outro+=t,this};l.prototype.appendLeft=function(t,e){if(typeof e!="string")throw new TypeError("inserted content must be a string");this._split(t);var r=this.byEnd[t];return r?r.appendLeft(e):this.intro+=e,this};l.prototype.appendRight=function(t,e){if(typeof e!="string")throw new TypeError("inserted content must be a string");this._split(t);var r=this.byStart[t];return r?r.appendRight(e):this.outro+=e,this};l.prototype.clone=function(){for(var t=new l(this.original,{filename:this.filename}),e=this.firstChunk,r=t.firstChunk=t.lastSearchedChunk=e.clone();e;){t.byStart[r.start]=r,t.byEnd[r.end]=r;var n=e.next,o=n&&n.clone();o&&(r.next=o,o.previous=r,r=o),e=n}return t.lastChunk=r,this.indentExclusionRanges&&(t.indentExclusionRanges=this.indentExclusionRanges.slice()),t.sourcemapLocations=new I(this.sourcemapLocations),t.intro=this.intro,t.outro=this.outro,t};l.prototype.generateDecodedMap=function(t){var e=this;t=t||{};var r=0,n=Object.keys(this.storedNames),o=new L(t.hires),u=M(this.original);return this.intro&&o.advance(this.intro),this.firstChunk.eachNext(function(h){var s=u(h.start);h.intro.length&&o.advance(h.intro),h.edited?o.addEdit(r,h.content,s,h.storeName?n.indexOf(h.original):-1):o.addUneditedChunk(r,h,e.original,s,e.sourcemapLocations),h.outro.length&&o.advance(h.outro)}),{file:t.file?t.file.split(/[/\\]/).pop():null,sources:[t.source?F(t.file||"",t.source):null],sourcesContent:t.includeContent?[this.original]:[null],names:n,mappings:o.raw}};l.prototype.generateMap=function(t){return new x(this.generateDecodedMap(t))};l.prototype.getIndentString=function(){return this.indentStr===null?"	":this.indentStr};l.prototype.indent=function(t,e){var r=/^[^\r\n]/gm;if(U(t)&&(e=t,t=void 0),t=t!==void 0?t:this.indentStr||"	",t==="")return this;e=e||{};var n={};if(e.exclude){var o=typeof e.exclude[0]=="number"?[e.exclude]:e.exclude;o.forEach(function(g){for(var m=g[0];m<g[1];m+=1)n[m]=!0})}var u=e.indentStart!==!1,h=function(g){return u?""+t+g:(u=!0,g)};this.intro=this.intro.replace(r,h);for(var s=0,a=this.firstChunk;a;){var f=a.end;if(a.edited)n[s]||(a.content=a.content.replace(r,h),a.content.length&&(u=a.content[a.content.length-1]===`
`));else for(s=a.start;s<f;){if(!n[s]){var c=this.original[s];c===`
`?u=!0:c!=="\r"&&u&&(u=!1,s===a.start||(this._splitChunk(a,s),a=a.next),a.prependRight(t))}s+=1}s=a.end,a=a.next}return this.outro=this.outro.replace(r,h),this};l.prototype.insert=function(){throw new Error("magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)")};l.prototype.insertLeft=function(t,e){return C.insertLeft||(console.warn("magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead"),C.insertLeft=!0),this.appendLeft(t,e)};l.prototype.insertRight=function(t,e){return C.insertRight||(console.warn("magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead"),C.insertRight=!0),this.prependRight(t,e)};l.prototype.move=function(t,e,r){if(r>=t&&r<=e)throw new Error("Cannot move a selection inside itself");this._split(t),this._split(e),this._split(r);var n=this.byStart[t],o=this.byEnd[e],u=n.previous,h=o.next,s=this.byStart[r];if(!s&&o===this.lastChunk)return this;var a=s?s.previous:this.lastChunk;return u&&(u.next=h),h&&(h.previous=u),a&&(a.next=n),s&&(s.previous=o),n.previous||(this.firstChunk=o.next),o.next||(this.lastChunk=n.previous,this.lastChunk.next=null),n.previous=a,o.next=s||null,a||(this.firstChunk=n),s||(this.lastChunk=o),this};l.prototype.overwrite=function(t,e,r,n){if(typeof r!="string")throw new TypeError("replacement content must be a string");for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(e>this.original.length)throw new Error("end is out of bounds");if(t===e)throw new Error("Cannot overwrite a zero-length range \u2013 use appendLeft or prependRight instead");this._split(t),this._split(e),n===!0&&(C.storeName||(console.warn("The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string"),C.storeName=!0),n={storeName:!0});var o=n!==void 0?n.storeName:!1,u=n!==void 0?n.contentOnly:!1;if(o){var h=this.original.slice(t,e);this.storedNames[h]=!0}var s=this.byStart[t],a=this.byEnd[e];if(s){if(e>s.end&&s.next!==this.byStart[s.end])throw new Error("Cannot overwrite across a split point");if(s.edit(r,o,u),s!==a){for(var f=s.next;f!==a;)f.edit("",!1),f=f.next;f.edit("",!1)}}else{var c=new p(t,e,"").edit(r,o);a.next=c,c.previous=a}return this};l.prototype.prepend=function(t){if(typeof t!="string")throw new TypeError("outro content must be a string");return this.intro=t+this.intro,this};l.prototype.prependLeft=function(t,e){if(typeof e!="string")throw new TypeError("inserted content must be a string");this._split(t);var r=this.byEnd[t];return r?r.prependLeft(e):this.intro=e+this.intro,this};l.prototype.prependRight=function(t,e){if(typeof e!="string")throw new TypeError("inserted content must be a string");this._split(t);var r=this.byStart[t];return r?r.prependRight(e):this.outro=e+this.outro,this};l.prototype.remove=function(t,e){for(;t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;if(t===e)return this;if(t<0||e>this.original.length)throw new Error("Character is out of bounds");if(t>e)throw new Error("end must be greater than start");this._split(t),this._split(e);for(var r=this.byStart[t];r;)r.intro="",r.outro="",r.edit(""),r=e>r.end?this.byStart[r.end]:null;return this};l.prototype.lastChar=function(){if(this.outro.length)return this.outro[this.outro.length-1];var t=this.lastChunk;do{if(t.outro.length)return t.outro[t.outro.length-1];if(t.content.length)return t.content[t.content.length-1];if(t.intro.length)return t.intro[t.intro.length-1]}while(t=t.previous);return this.intro.length?this.intro[this.intro.length-1]:""};l.prototype.lastLine=function(){var t=this.outro.lastIndexOf(k);if(t!==-1)return this.outro.substr(t+1);var e=this.outro,r=this.lastChunk;do{if(r.outro.length>0){if(t=r.outro.lastIndexOf(k),t!==-1)return r.outro.substr(t+1)+e;e=r.outro+e}if(r.content.length>0){if(t=r.content.lastIndexOf(k),t!==-1)return r.content.substr(t+1)+e;e=r.content+e}if(r.intro.length>0){if(t=r.intro.lastIndexOf(k),t!==-1)return r.intro.substr(t+1)+e;e=r.intro+e}}while(r=r.previous);return t=this.intro.lastIndexOf(k),t!==-1?this.intro.substr(t+1)+e:this.intro+e};l.prototype.slice=function(t,e){for(t===void 0&&(t=0),e===void 0&&(e=this.original.length);t<0;)t+=this.original.length;for(;e<0;)e+=this.original.length;for(var r="",n=this.firstChunk;n&&(n.start>t||n.end<=t);){if(n.start<e&&n.end>=e)return r;n=n.next}if(n&&n.edited&&n.start!==t)throw new Error("Cannot use replaced character "+t+" as slice start anchor.");for(var o=n;n;){n.intro&&(o!==n||n.start===t)&&(r+=n.intro);var u=n.start<e&&n.end>=e;if(u&&n.edited&&n.end!==e)throw new Error("Cannot use replaced character "+e+" as slice end anchor.");var h=o===n?t-n.start:0,s=u?n.content.length+e-n.end:n.content.length;if(r+=n.content.slice(h,s),n.outro&&(!u||n.end===e)&&(r+=n.outro),u)break;n=n.next}return r};l.prototype.snip=function(t,e){var r=this.clone();return r.remove(0,t),r.remove(e,r.original.length),r};l.prototype._split=function(t){if(!(this.byStart[t]||this.byEnd[t]))for(var e=this.lastSearchedChunk,r=t>e.end;e;){if(e.contains(t))return this._splitChunk(e,t);e=r?this.byStart[e.end]:this.byEnd[e.start]}};l.prototype._splitChunk=function(t,e){if(t.edited&&t.content.length){var r=M(this.original)(e);throw new Error("Cannot split a chunk that has already been edited ("+r.line+":"+r.column+' \u2013 "'+t.original+'")')}var n=t.split(e);return this.byEnd[e]=t,this.byStart[e]=n,this.byEnd[n.end]=n,t===this.lastChunk&&(this.lastChunk=n),this.lastSearchedChunk=t,!0};l.prototype.toString=function(){for(var t=this.intro,e=this.firstChunk;e;)t+=e.toString(),e=e.next;return t+this.outro};l.prototype.isEmpty=function(){var t=this.firstChunk;do if(t.intro.length&&t.intro.trim()||t.content.length&&t.content.trim()||t.outro.length&&t.outro.trim())return!1;while(t=t.next);return!0};l.prototype.length=function(){var t=this.firstChunk,e=0;do e+=t.intro.length+t.content.length+t.outro.length;while(t=t.next);return e};l.prototype.trimLines=function(){return this.trim("[\\r\\n]")};l.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)};l.prototype.trimEndAborted=function(t){var e=new RegExp((t||"\\s")+"+$");if(this.outro=this.outro.replace(e,""),this.outro.length)return!0;var r=this.lastChunk;do{var n=r.end,o=r.trimEnd(e);if(r.end!==n&&(this.lastChunk===r&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),o)return!0;r=r.previous}while(r);return!1};l.prototype.trimEnd=function(t){return this.trimEndAborted(t),this};l.prototype.trimStartAborted=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),this.intro.length)return!0;var r=this.firstChunk;do{var n=r.end,o=r.trimStart(e);if(r.end!==n&&(r===this.lastChunk&&(this.lastChunk=r.next),this.byEnd[r.end]=r,this.byStart[r.next.start]=r.next,this.byEnd[r.next.end]=r.next),o)return!0;r=r.next}while(r);return!1};l.prototype.trimStart=function(t){return this.trimStartAborted(t),this};var P=Object.prototype.hasOwnProperty,d=function(t){t===void 0&&(t={}),this.intro=t.intro||"",this.separator=t.separator!==void 0?t.separator:`
`,this.sources=[],this.uniqueSources=[],this.uniqueSourceIndexByFilename={}};d.prototype.addSource=function(t){if(t instanceof l)return this.addSource({content:t,filename:t.filename,separator:this.separator});if(!U(t)||!t.content)throw new Error("bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`");if(["filename","indentExclusionRanges","separator"].forEach(function(r){P.call(t,r)||(t[r]=t.content[r])}),t.separator===void 0&&(t.separator=this.separator),t.filename)if(!P.call(this.uniqueSourceIndexByFilename,t.filename))this.uniqueSourceIndexByFilename[t.filename]=this.uniqueSources.length,this.uniqueSources.push({filename:t.filename,content:t.content.original});else{var e=this.uniqueSources[this.uniqueSourceIndexByFilename[t.filename]];if(t.content.original!==e.content)throw new Error("Illegal source: same filename ("+t.filename+"), different contents")}return this.sources.push(t),this};d.prototype.append=function(t,e){return this.addSource({content:new l(t),separator:e&&e.separator||""}),this};d.prototype.clone=function(){var t=new d({intro:this.intro,separator:this.separator});return this.sources.forEach(function(e){t.addSource({filename:e.filename,content:e.content.clone(),separator:e.separator})}),t};d.prototype.generateDecodedMap=function(t){var e=this;t===void 0&&(t={});var r=[];this.sources.forEach(function(o){Object.keys(o.content.storedNames).forEach(function(u){~r.indexOf(u)||r.push(u)})});var n=new L(t.hires);return this.intro&&n.advance(this.intro),this.sources.forEach(function(o,u){u>0&&n.advance(e.separator);var h=o.filename?e.uniqueSourceIndexByFilename[o.filename]:-1,s=o.content,a=M(s.original);s.intro&&n.advance(s.intro),s.firstChunk.eachNext(function(f){var c=a(f.start);f.intro.length&&n.advance(f.intro),o.filename?f.edited?n.addEdit(h,f.content,c,f.storeName?r.indexOf(f.original):-1):n.addUneditedChunk(h,f,s.original,c,s.sourcemapLocations):n.advance(f.content),f.outro.length&&n.advance(f.outro)}),s.outro&&n.advance(s.outro)}),{file:t.file?t.file.split(/[/\\]/).pop():null,sources:this.uniqueSources.map(function(o){return t.file?F(t.file,o.filename):o.filename}),sourcesContent:this.uniqueSources.map(function(o){return t.includeContent?o.content:null}),names:r,mappings:n.raw}};d.prototype.generateMap=function(t){return new x(this.generateDecodedMap(t))};d.prototype.getIndentString=function(){var t={};return this.sources.forEach(function(e){var r=e.content.indentStr;r!==null&&(t[r]||(t[r]=0),t[r]+=1)}),Object.keys(t).sort(function(e,r){return t[e]-t[r]})[0]||"	"};d.prototype.indent=function(t){var e=this;if(arguments.length||(t=this.getIndentString()),t==="")return this;var r=!this.intro||this.intro.slice(-1)===`
`;return this.sources.forEach(function(n,o){var u=n.separator!==void 0?n.separator:e.separator,h=r||o>0&&/\r?\n$/.test(u);n.content.indent(t,{exclude:n.indentExclusionRanges,indentStart:h}),r=n.content.lastChar()===`
`}),this.intro&&(this.intro=t+this.intro.replace(/^[^\n]/gm,function(n,o){return o>0?t+n:n})),this};d.prototype.prepend=function(t){return this.intro=t+this.intro,this};d.prototype.toString=function(){var t=this,e=this.sources.map(function(r,n){var o=r.separator!==void 0?r.separator:t.separator,u=(n>0?o:"")+r.content.toString();return u}).join("");return this.intro+e};d.prototype.isEmpty=function(){return!(this.intro.length&&this.intro.trim()||this.sources.some(function(t){return!t.content.isEmpty()}))};d.prototype.length=function(){return this.sources.reduce(function(t,e){return t+e.content.length()},this.intro.length)};d.prototype.trimLines=function(){return this.trim("[\\r\\n]")};d.prototype.trim=function(t){return this.trimStart(t).trimEnd(t)};d.prototype.trimStart=function(t){var e=new RegExp("^"+(t||"\\s")+"+");if(this.intro=this.intro.replace(e,""),!this.intro){var r,n=0;do if(r=this.sources[n++],!r)break;while(!r.content.trimStartAborted(t))}return this};d.prototype.trimEnd=function(t){var e=new RegExp((t||"\\s")+"+$"),r,n=this.sources.length-1;do if(r=this.sources[n--],!r){this.intro=this.intro.replace(e,"");break}while(!r.content.trimEndAborted(t));return this};l.Bundle=d;l.SourceMap=x;l.default=l;A.exports=l});var J=require("fs"),G=$(),H=i=>typeof i=="function"?i:()=>i,K=(i,t)=>t.length-i.length,Q=i=>{let t=i.values?Object.assign({},i.values):Object.assign({},i);return delete t.include,Object.keys(t).reduce((e,r)=>{let n=Object.assign({},e);return n[r]=H(t[r]),n},{})},W=i=>{console.log("generateFilter-options",i);let t=/.*/;return i.include&&(Object.prototype.toString.call(i.include)!=="[object RegExp]"?console.warn(`Options.include must be a RegExp object, but gets an '${typeof i.include}' type.`):t=i.include),t},X=(i,t,e,r)=>{let n=new G(i);for(;match=e.exec(i);){let o=match.index,u=o+match[0].length,h=String(r[match[1]](t));n.overwrite(o,u,h)}return n.toString()};exports.replace=(i={})=>{console.log("a-options",i);let t=W(i),e=Q(i),r=Object.keys(e).length===0,n=Object.keys(e).sort(K).map(escape),o=new RegExp(`\\b(${n.join("|")})\\b`,"g");return{name:"replace",setup(u){u.onStart(()=>{console.log("build started")}),u.onResolve({filter:t},()=>{console.log("build started")}),u.onLoad({filter:/\.js$/},async h=>{let s=await J.promises.readFile(h.path,"utf8");return{contents:r?s:X(s,h.path,o,e),loader:h.path.match(/tsx?$/)?"ts":"js"}})}}};module.exports=exports;
